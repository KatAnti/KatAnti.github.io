"use strict";var searchButton=document.querySelector(".mobile_search_button"),search=document.querySelector(".search_form"),mobileMenuButton=document.querySelector(".mobile_menu_button"),mainMenu=document.querySelector(".header_top"),mobileCatalogToggle=document.querySelector(".catalog_mobile_link"),catalogMenu=document.querySelector(".catalog_menu"),mobileCatalogToggleBorder=document.querySelector(".catalog_mobile_link span"),filterList=document.getElementsByClassName("filter_bttn"),filterButton=document.querySelector(".mobile_roll_down_filter_bttn"),filterBlock=document.querySelector(".mobile_roll_down_filter_block"),countryFilterButton=document.querySelector(".mobile_roll_down_countries"),countryFilterBlock=document.querySelector(".brands_nav"),switchDisplay=function(e){event.preventDefault(),e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show")},switchDisplayFlex=function(e){event.preventDefault(),e.classList.contains("show_flex")?e.classList.remove("show_flex"):e.classList.add("show_flex")},switchDisplayFilter=function(e,t){event.preventDefault(),e.classList.contains("show")?(e.classList.remove("show"),t.classList.remove("filter_bttn_open_style")):(e.classList.add("show"),t.classList.add("filter_bttn_open_style"))};if(filterList)for(var _loop=function(e){var t=filterList[e],o=t.nextElementSibling;t.addEventListener("click",function(e){switchDisplayFilter(o,t)})},i=0;i<filterList.length;i++)_loop(i);searchButton&&searchButton.addEventListener("click",function(e){switchDisplay(search)}),mobileMenuButton&&mobileMenuButton.addEventListener("click",function(e){switchDisplay(mainMenu)}),filterButton&&filterButton.addEventListener("click",function(e){switchDisplayFlex(filterBlock,filterButton),filterBlock.classList.contains("show_flex")?filterButton.classList.add("open"):filterButton.classList.remove("open")}),countryFilterButton&&countryFilterButton.addEventListener("click",function(e){switchDisplayFlex(countryFilterBlock,countryFilterButton),countryFilterBlock.classList.contains("show_flex")?countryFilterButton.classList.add("open"):countryFilterButton.classList.remove("open")});var brandMenuPoint=document.querySelectorAll(".brand_navigation_menu > li > a"),brandSubmenuPoint=document.querySelectorAll(".brand_navigation_submenu"),_loop2=function(o){var n=brandMenuPoint[o];n.addEventListener("click",function(){for(var e=0;e<brandSubmenuPoint.length;e++)brandSubmenuPoint[e]&&e!=o&&brandSubmenuPoint[e].classList.remove("show_flex"),brandMenuPoint[e]&&e!=o&&brandMenuPoint[e].classList.remove("active");var t=n.closest("li").querySelector(".brand_navigation_submenu");t&&(switchDisplayFlex(t),n.classList.contains("active")?n.classList.remove("active"):n.classList.add("active"))})};for(i=0;i<brandMenuPoint.length;i++)_loop2(i);mobileCatalogToggle.addEventListener("click",function(e){e.preventDefault(),catalogMenu.classList.contains("show")?(catalogMenu.classList.remove("show"),mobileCatalogToggle.classList.remove("dark_green"),mobileCatalogToggleBorder.style.borderBottomWidth="1px"):(catalogMenu.classList.add("show"),mobileCatalogToggle.classList.add("dark_green"),mobileCatalogToggleBorder.style.borderBottomWidth="0px")});var textRollDownBttn=document.querySelector(".text_roll_down_bttn"),textRollDownBlock=document.querySelector(".text_roll_down_block"),formCheckoutBttn=document.querySelector(".cart_checkout_link"),formCheckoutBlock=document.querySelector(".cart_checkout"),rollTextOnClick=function(e,t){event.preventDefault(),t.classList.add("show"),e.classList.add("hide")};formCheckoutBttn&&formCheckoutBttn.addEventListener("click",function(e){rollTextOnClick(formCheckoutBttn,formCheckoutBlock)}),textRollDownBttn&&textRollDownBttn.addEventListener("click",function(e){rollTextOnClick(textRollDownBttn,textRollDownBlock)});var scrollButton=document.querySelector(".uptotop");window.onscroll=function(){200<window.pageYOffset?scrollButton.classList.add("show"):window.pageYOffset<200&&scrollButton.classList.remove("show")};var faqQuestion=document.querySelectorAll(".faq_question");faqQuestion.forEach(function(r){r.addEventListener("click",function(e){var t=r.closest(".faq_item_container").querySelector(".faq_answer_js"),o=t.querySelector(".faq_answer_close");if(t.classList.contains("hide")){t.classList.remove("hide"),t.style.height="auto";var n=t.clientHeight+"px";t.style.height="0px",setTimeout(function(){t.style.height=n},0),t.style.borderBottom="1px solid #e1e1e1",r.classList.add("open")}else t.style.height="0px",t.addEventListener("transitionend",function(){t.classList.add("hide"),r.classList.remove("open")},{once:!0});o.addEventListener("click",function(e){e.preventDefault(),t.style.height="0px",t.addEventListener("transitionend",function(){t.classList.add("hide"),r.classList.remove("open")},{once:!0})})})});var overlayPopup=document.querySelector(".overlay"),callBackBttnArr=document.querySelectorAll(".header_callmeback_window_link"),callBackPopup=document.querySelector(".call_back_popup"),buyBttnArr=document.querySelectorAll(".buy_bttn"),productInCartPopup=document.querySelector(".product_in_cart_popup"),buyFastBttnArr=document.querySelectorAll(".buy_in_one_click_bttn"),buyFastPopup=document.querySelector(".buy_in_one_click"),reportLowerBttnArr=document.querySelectorAll(".report_lower_link"),reportLowerPopup=document.querySelector(".report_lower_popup"),detailPageImg=document.querySelector(".detail_gallery_main_img img"),initPopUp=function(e,t){function o(){e.classList.remove("show"),t.classList.remove("show")}var n=e.querySelector(".return_buy"),r=e.querySelector(".close_popup");r.addEventListener("click",function(e){e.preventDefault(),o()}),e.querySelector(".return_buy")&&n.addEventListener("click",function(e){e.preventDefault(),o()}),t.addEventListener("click",function(e){o()}),window.addEventListener("keydown",function(e){27===e.keyCode&&o()})},openPopup=function(e){e.classList.add("show"),overlayPopup.classList.add("show")};function bindBuyBtn(){var t=document.querySelectorAll(".buy_bttn");if(0<t.length)for(var e=function(e){var n=t[e];if(n.classList.contains("js-btn"))return"continue";var r=n.closest(".product_item_preview"),i=n.closest("body"),l=n.dataset.id,c=void 0;n.classList.add("js-btn"),l&&n.addEventListener("click",function(e){e.preventDefault();var t=1,o=n.closest(".detail_text");o&&(t=+o.querySelector(".product_amount input").value),fetch("/basket/add/"+l+"/"+t,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:""}).then(function(e){return e.json()}).then(function(e){document.querySelector(".header_basket_count").innerHTML=e.count}),c=r?r.querySelector("h2 a").textContent:i.querySelector("h1").textContent,openPopup(productInCartPopup),productInCartPopup.querySelector(".pop_up_product_name").textContent=c})},o=0;o<t.length;o++)e(o)}if(productInCartPopup&&initPopUp(productInCartPopup,overlayPopup),bindBuyBtn(),0<buyFastBttnArr.length){initPopUp(buyFastPopup,overlayPopup);var _loop4=function(e){var t=buyFastBttnArr[e],o=t.closest(".product_item_preview"),n=t.closest("body"),r=t.closest("tr"),i=t.closest(".product_price_no_variation_cart"),l=document.getElementById("one_click_buy_form_product"),c=document.getElementById("one_click_buy_form_quantity"),a=void 0,s=void 0,u=void 0;t.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".detail_text");l&&(l.value=e.target.dataset.id),c&&(c.value=1,t&&(c.value=t.querySelector(".product_amount input").value)),u=o?(a=o.querySelector("h2 a").textContent,s=o.querySelector("img").src,o.querySelector(".preview_price span").textContent):r?(a=n.querySelector("h1").textContent,s=detailPageImg.src,r.querySelector(".total_price_js").textContent):(a=n.querySelector("h1").textContent,s=detailPageImg.src,i.querySelector(".total_price_js").textContent),openPopup(buyFastPopup),buyFastPopup.querySelector(".popup_product_title").textContent=a,buyFastPopup.querySelector("img").src=s,buyFastPopup.querySelector(".preview_price span").textContent=u})};for(i=0;i<buyFastBttnArr.length;i++)_loop4(i)}if(0<reportLowerBttnArr.length){initPopUp(reportLowerPopup,overlayPopup);var _loop5=function(e){var t=reportLowerBttnArr[e],o=t.closest(".collection_detail_info"),n=t.closest(".product_price_no_variation_cart"),r=t.closest(".product_price_variation_cart"),i=void 0,l=void 0,c=void 0;t.addEventListener("click",function(e){e.preventDefault(),o&&(i=document.body.querySelector("h1").textContent,l=detailPageImg.src,c=n?n.querySelector(".price_product_detail_m2").textContent:r.querySelector(".price_product_detail_m2").textContent),openPopup(reportLowerPopup),reportLowerPopup.querySelector(".popup_product_title").textContent=i,reportLowerPopup.querySelector("img").src=l,reportLowerPopup.querySelector(".preview_price span").textContent=c,document.getElementById("suggest_price_form_product").value=e.target.dataset.id})};for(i=0;i<reportLowerBttnArr.length;i++)_loop5(i)}initPopUp(callBackPopup,overlayPopup);for(i=0;i<callBackBttnArr.length;i++)callBackBttnArr[i].addEventListener("click",function(e){e.preventDefault(),openPopup(callBackPopup)});var galleryPreview=document.getElementsByClassName("detail_gallery_slider_item"),galleryBig=document.querySelector(".detail_gallery_main_img");if(galleryBig){for(var _loop6=function(e){var t=galleryPreview[e];t.addEventListener("mouseover",function(){galleryBig.querySelector("img").src=t.href,galleryBig.href=t.href})},_i=0;_i<galleryPreview.length;_i++)_loop6(_i);galleryBig.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<galleryPreview.length;t++){var o=galleryPreview[t].href;if(galleryBig.href==o){console.log(galleryBig.href,o),galleryPreview[t].click();break}}})}for(var addSpace=function(e){function t(e){e.reverse();for(var t=3;t<e.length;t+=4)e.splice(t,0," ");return e.reverse(),e}var o=void 0;if(e!==Math.round(e)){var n=(o=String(e)).split(".");t(o=n[0].split("")),e=o.join("")+"."+n[1]}else t(o=String(e).split("")),e=o.join("");return e},counterPlusBttn=document.getElementsByClassName("product_amount_control_plus"),counterMinusBttn=document.getElementsByClassName("product_amount_control_minus"),isBasket=0<document.getElementsByClassName("products_in_cart").length,_loop7=function(e){var t=counterPlusBttn[e],o=counterMinusBttn[e],n=t.closest("div").querySelector("input"),r=t.closest("tr"),i=void 0;r.querySelector(".packaging")&&(i=parseFloat(r.querySelector(".packaging").textContent));function l(e){if(i){var t=i*e;t!==Math.round(t)&&(t=t.toFixed(2)),t=addSpace(t),r.querySelector(".total_m2_js").textContent=t+" м2"}var o=a*e;o!==Math.round(o)&&(o=o.toFixed(2)),o=addSpace(o),r.querySelector(".total_price_js").textContent=o}function c(e,t){fetch("/basket/set/"+e+"/"+t,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:""}).then(function(e){return e.json()}).then(function(e){})}var a=r.querySelector(".price_js").textContent.replace(/\s+/g,"");t.addEventListener("click",function(){var e=+n.value;++e,n.value=e,l(e),isBasket&&c(n.dataset.id,e)}),o.addEventListener("click",function(){var e=+n.value;1<e&&(e-=1,n.value=e,l(e),isBasket&&c(n.dataset.id,e))}),n.addEventListener("input",function(e){var t=+n.value;l(t),isBasket&&c(e.target.dataset.id,t)})},_i4=0;_i4<counterPlusBttn.length;_i4++)_loop7(_i4);if(document.querySelector(".slider_main_page_inner"))var sliderMain=tns({container:".slider_main_page_inner",items:1,slideBy:"page",controls:!1,navPosition:"bottom",autoplay:!0,autoplayButtonOutput:!1});var slider=[],tabSliders=function(){for(var e=document.getElementsByClassName("items_slider_js"),t=0;t<e.length;t++){var o=e[t].id;slider.push(tns({container:"#"+o,slideBy:"page",nav:!1,controlsText:["",""],responsive:{1e3:{items:4},640:{fixedWidth:290},470:{items:3,controls:!0,gutter:15,edgePadding:15},300:{items:2,fixedWidth:144,controls:!1,gutter:10,edgePadding:65}}}))}},sliderBrends=function(){tns({container:".brends_slider",slideBy:"page",nav:!1,controlsText:["",""],responsive:{620:{items:6},470:{items:4,fixedWidth:190,gutter:10,controls:!0},300:{items:2,fixedWidth:144,controls:!1}}})},sliderCertification=function(){tns({container:".certification_slider",slideBy:"page",nav:!1,controlsText:["",""],responsive:{620:{items:6},470:{items:4,fixedWidth:190,gutter:12,controls:!0,edgePadding:0},300:{items:2,fixedWidth:144,controls:!1,gutter:20,edgePadding:10}}})};if(document.querySelector(".detail_gallery_slider"))var _sliderMain=tns({container:".detail_gallery_slider",controls:!1,rewind:!0,nav:!1,gutter:16,slideBy:1,mouseDrag:!0,responsive:{620:{items:6},470:{items:4},300:{items:3}}});function openTab(e,t){event.preventDefault();var o=void 0,n=void 0,r=void 0;for(n=document.getElementsByClassName("tab_content"),o=0;o<n.length;o++)n[o].classList.remove("show");for(r=document.getElementsByClassName("selection_toggle_bttn"),o=0;o<r.length;o++)r[o].className=r[o].className.replace(" active","");document.getElementById(t).classList.add("show"),e.currentTarget.className+=" active"}470<=window.screen.width&&(document.querySelector(".brends_slider")&&sliderBrends(),document.querySelector(".certification_slider")&&sliderCertification(),document.querySelector(".items_slider_js")&&tabSliders()),document.querySelector(".certification_slider")&&(WAMediaBox.lang={prev:"Previous",next:"Next",close:"Close"},WAMediaBox.bindAll(document.querySelector(".certification_slider"))),document.querySelector(".detail_gallery")&&(WAMediaBox.lang={prev:"Previous",next:"Next",close:"Close"},WAMediaBox.bindAll(document.querySelector(".detail_gallery_slider"))),document.querySelector(".gratitude_link")&&(WAMediaBox.lang={prev:"Previous",next:"Next",close:"Close"},WAMediaBox.bind(document.querySelector(".gratitude_link"))),window.addEventListener("resize",function(){470<=innerWidth&&slider_not_mobile(),console.log(innerWidth)},!1);for(var element=document.querySelectorAll(".phone_number_mask_js"),maskOptions={mask:"+{7}(000)000-00-00",lazy:!1},_i6=0;_i6<element.length;_i6++)var currentElement=element[_i6],mask=IMask(currentElement,maskOptions);var containerInputCustomPlaceholder=document.querySelectorAll(".required_input_holder");containerInputCustomPlaceholder.forEach(function(e){var t=e.querySelector(".form_input"),o=e.querySelector("label");t.value&&o.classList.add("hide"),t.addEventListener("change",function(){t.value?o.classList.add("hide"):o.classList.remove("hide")})});